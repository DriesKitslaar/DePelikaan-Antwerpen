# Supabase Setup Handleiding

Om de website te koppelen aan een echte database, volg je deze stappen.

## Stap 1: Maak een Supabase Project

1.  Ga naar [database.new](https://database.new) en log in met GitHub.
2.  Maak een nieuw project aan (bijv. "De Pelikaan").
3.  Kopieer je **Project URL** en **API Key (public/anon)**.
    *   Deze vind je bij *Project Settings* > *API*.
4.  Plak deze waarden in het bestand `supabase.js` in je code.

## Stap 2: Maak de Tabellen (SQL)

Ga in Supabase naar de **SQL Editor** (het icoontje met de terminal links) en plak de volgende code. Klik daarna op **RUN**.

```sql
-- 1. Maak de MENU tabel
create table menu_items (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  name text not null,
  price text not null,
  category text not null,
  description text
);

-- 2. Maak de EVENTS tabel (voor de banner)
create table events (
  id bigint generated by default as identity primary key,
  show boolean default true,
  date text,
  title text,
  text text,
  link text
);

-- 3. Voeg de standaard banner toe (rij 1)
insert into events (show, date, title, text, link)
values (true, '2 Nov', 'Minigolf Tornooi', 'Schrijf je nu in!', '#contact');

-- 4. Zet Row Level Security (RLS) UIT voor nu (makkelijkste start)
--    LET OP: In een productie-omgeving wil je dit beveiligen, 
--    maar voor nu maken we het open zodat je dashboard direct werkt.
alter table menu_items enable row level security;
alter table events enable row level security;

create policy "Iedereen mag lezen" on menu_items for select using (true);
create policy "Iedereen mag lezen" on events for select using (true);

-- Sta toe dat iedereen (met de key in je dashboard) mag schrijven/aanpassen
create policy "Iedereen mag aanpassen" on menu_items for all using (true);
create policy "Iedereen mag aanpassen" on events for all using (true);
```

## Stap 3: Upload je Menu

Omdat je database nu leeg is, moet je het menu eenmalig vullen.
In je **Dashboard** (`dashboard.html`) zal ik een knop toevoegen: *"Upload huidig menu naar Database"*. 
Gebruik die knop één keer nadat je de connectie hebt gemaakt.

## Stap 4: Admin Instellen

Nu is je database klaar!
1. Vul je URL en KEY in `supabase.js`.
2. Open `dashboard.html` en test of je items kunt toevoegen.
